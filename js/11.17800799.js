(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"2bf9":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",{staticClass:"bg-paleGrey q-py-sm "},[t("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit}},[t("q-input",{staticClass:"q-px-md",attrs:{dense:"",clearable:"","hide-bottom-space":"",borderless:"","lazy-rules":"",error:e.$v.oldPassword.$error,placeholder:"目前密碼",type:e.viewOldPassword?"password":"text","input-style":{color:"#77869E"}},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{size:"xs",name:e.viewOldPassword?"visibility_off":"visibility"},on:{click:function(s){e.viewOldPassword=!e.viewOldPassword}}})]},proxy:!0}]),model:{value:e.$v.oldPassword.$model,callback:function(s){e.$set(e.$v.oldPassword,"$model","string"===typeof s?s.trim():s)},expression:"$v.oldPassword.$model"}}),t("q-separator"),t("q-input",{staticClass:"q-px-md",attrs:{dense:"","hide-bottom-space":"",clearable:"",borderless:"",error:e.$v.newPassword1.$error,"lazy-rules":"",placeholder:"新密碼",type:e.viewNewPassword1?"password":"text","input-style":{color:"#77869E"}},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{size:"xs",name:e.viewNewPassword1?"visibility_off":"visibility"},on:{click:function(s){e.viewNewPassword1=!e.viewNewPassword1}}})]},proxy:!0}]),model:{value:e.$v.newPassword1.$model,callback:function(s){e.$set(e.$v.newPassword1,"$model","string"===typeof s?s.trim():s)},expression:"$v.newPassword1.$model"}}),t("q-separator"),t("q-input",{staticClass:"q-px-md",attrs:{dense:"",clearable:"","hide-bottom-space":"",borderless:"","lazy-rules":"",error:e.$v.newPassword2.$error,placeholder:"再次輸入新密碼",type:e.viewNewPassword2?"password":"text","input-style":{color:"#77869E"}},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{size:"xs",name:e.viewNewPassword2?"visibility_off":"visibility"},on:{click:function(s){e.viewNewPassword2=!e.viewNewPassword2}}})]},proxy:!0}]),model:{value:e.$v.newPassword2.$model,callback:function(s){e.$set(e.$v.newPassword2,"$model","string"===typeof s?s.trim():s)},expression:"$v.newPassword2.$model"}}),t("q-separator"),t("div",{staticClass:"q-px-md"},[t("q-btn",{staticClass:" full-width ",attrs:{id:e.$store.state.global.gaHead+"changepwd_save",color:"blueGrey","text-color":"white",label:"儲存",type:"submit",disable:e.isLoading}})],1),t("div",{staticClass:"q-pa-md text-negative text-bold",domProps:{innerHTML:e._s(e.formErrorMsg(e.$v))}})],1)],1)},o=[],r=t("872c"),i=t("b5ae"),n=t("0287"),l="",d=n["a"]({apiResult:function(e){return i["helpers"].withParams({type:"apiResult"},(function(e){return e}))}}),c=n["b"]({apiResult:function(e){e.$params;return"".concat(l)}}),w={mixins:[r["a"]],beforeMount:function(){this.title="帳號設定"},mounted:function(){this.$v.$reset()},data:function(){return{isLoading:!1,oldPassword:null,newPassword1:null,newPassword2:null,viewOldPassword:!0,viewNewPassword1:!0,viewNewPassword2:!0,calledAPI:!1}},validations:{oldPassword:{namedRequired:d.require("舊密碼")},newPassword1:{namedRequired:d.require("新密碼"),namedMinLength:d.minLength(8,"新密碼")},newPassword2:{namedSameName:d.sameName("newPassword1","新舊密碼")},calledAPI:{apiResult:d.apiResult()}},methods:{formErrorMsg:function(e){return n["d"](e,c)},onSubmit:function(){var e=this;this.$v.$reset(),this.calledAPI=!0,this.$v.$touch(),this.$v.$invalid||this.$api.account.ChangeMemberPassword(this.oldPassword,this.newPassword1,this.newPassword2).then((function(s){var t=s.data;0===t.result?(e.calledAPI=!0,e.$q.notify({message:"密碼修改成功!"}),e.$router.go(-1)):(l=t.message,e.calledAPI=!1)})).catch((function(s){e.calledAPI=!1,l=s.message})).then((function(){e.isLoading=!1}))}}},u=w,p=t("2877"),m=t("9989"),v=t("0378"),P=t("27f9"),f=t("0016"),$=t("eb85"),b=t("9c40"),h=t("eebe"),y=t.n(h),q=Object(p["a"])(u,a,o,!1,null,null,null);s["default"]=q.exports;y()(q,"components",{QPage:m["a"],QForm:v["a"],QInput:P["a"],QIcon:f["a"],QSeparator:$["a"],QBtn:b["a"]})}}]);