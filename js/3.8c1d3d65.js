(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"713b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"hHh lpR fFf"}},[t.showGuide&&t.$store.state.system.clientInfo.mobile&&t.showGuide.show()?s("div",{staticClass:"fullscreen"},[s("q-img",{attrs:{src:t.showGuide.pics[t.showGuide.index],width:t.$store.state.global.screen.width+"px",height:t.$store.state.global.screen.height+"px"},on:{click:t.nextSlide}})],1):t._e(),s("q-header",{attrs:{id:"header"}},[s("q-toolbar",{class:[t.isStockReport?"bg-white":"bg-paleGrey","text-main","header-style"]},[t.$store.state.global.isCustomListEditing?[s("q-btn",{staticClass:"text-bold",attrs:{flat:"",label:"取消",dense:"",color:"primary"},on:{click:t.cancelEdit}}),s("q-toolbar-title",{staticClass:"text-bold text-subtitle1 text-main text-center"},[t._v("\n          "+t._s(t.$store.state.system.title)+"\n        ")]),s("div",{staticClass:"q-gutter-md"},[t.showEdit?s("q-btn",{staticClass:"text-bold",attrs:{id:t.$store.state.global.gaHead+"mylist_edit",label:t.$store.state.global.isCustomListEditing?"完成":"編輯",flat:"",dense:""},on:{click:t.changeEditing}}):t._e()],1)]:"searchStock"==t.$route.name?[s("q-input",{staticClass:"header-searchinput full-width",attrs:{placeholder:"股票代號/公司名稱","hide-bottom-space":"",autofocus:"",borderless:"",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"img:statics/toolbar/search@2x.png",color:"main",size:"22px"}})]},proxy:!0},{key:"after",fn:function(){return[s("q-btn",{attrs:{flat:"",label:"取消",dense:"",color:"main",id:t.$store.state.global.gaHead+"stocksearch_cancel"},on:{click:t.goback}})]},proxy:!0},t.SearchText?{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel",size:"22px"},on:{click:function(e){e.stopPropagation(),t.SearchText=null}}})]},proxy:!0}:null],null,!0),model:{value:t.SearchText,callback:function(e){t.SearchText=e},expression:"SearchText"}})]:[t.isHome?t._e():s("q-btn",{attrs:{id:t.$store.state.global.gaHead+"goback",ripple:!1,flat:"",color:"main",dense:"",icon:"keyboard_backspace"},on:{click:t.goback}}),t.isHome?s("q-toolbar-title",[s("q-img",{class:t.$store.state.system.clientInfo.cordova?"header-logo q-ml-xs":"header-logo-beta",attrs:{src:t.$store.state.system.clientInfo.cordova?"statics/guguLogo_s@3x.png":"statics/gugu_beta.png",basic:"",contain:""}})],1):s("q-toolbar-title",{staticClass:"text-bold text-h6"},[t._v("\n          "+t._s(t.$store.state.system.title)+"\n        ")]),s("div",{staticClass:"q-gutter-md"},[t.showSearch?s("q-btn",{attrs:{id:"masterList"==t.$route.name?t.$store.state.global.gaHead+"stocklist_search":t.$store.state.global.gaHead+"stockdetail_search",round:"",ripple:!1,padding:"none",flat:"",dense:"",to:"/search",icon:"img:statics/toolbar/search@2x.png",size:"md"}}):t._e(),t.showFavorite?s("q-btn",{attrs:{id:t.$store.state.global.gaHead+("stock"==t.$route.name?"stockdetail_addtofav":"financialdata_addtofav"),ripple:!1,padding:"none",round:"",flat:"",dense:"",icon:t.favoriteIcon,size:"md"},on:{click:t.favoriteClicked}}):t._e(),t.showEdit?s("q-btn",{staticClass:"text-bold",attrs:{label:t.$store.state.global.isCustomListEditing?"完成":"編輯",flat:"",dense:""},on:{click:t.changeEditing}}):t._e()],1)]],2)],1),s("q-page-container",[s("router-view",{attrs:{keepAlive:""}})],1),s("q-footer",{attrs:{reveal:"",elevated:"",id:"footer"}},[s("router-view",{attrs:{name:"foot"}})],1)],1)},i=[],o=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("7f7f"),s("9523")),r=s.n(o),n=(s("28a5"),s("6762"),s("2fdb"),s("2f62"));function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={beforeRouteUpdate:function(t,e,s){if(t.params.stockId){var a=t.params.stockId;a.includes(":")&&(a=a.split(":")[1]),this.checkFavorite(a)}else this.favorite=!1;s()},beforeRouteLeave:function(t,e,s){if(t.params.stockId){var a=t.params.stockId;a.includes(":")&&(a=a.split(":")[1]),this.checkFavorite(a)}else this.favorite=!1;s()},mounted:function(){var t=this.$route.params.stockId;this.checkFavorite(t)},data:function(){var t=this;return{GuidedTour:{masterList:{show:function(){return t.$store.state.global.guides.masterList},index:0,pics:["/statics/guide/".concat(this.$store.state.global.guides.picPrefix,"_p1.png"),"/statics/guide/".concat(this.$store.state.global.guides.picPrefix,"_p2.png")]},stock:{show:function(){return t.$store.state.global.guides.stock},index:0,pics:["/statics/guide/".concat(this.$store.state.global.guides.picPrefix,"_p3.png"),"/statics/guide/".concat(this.$store.state.global.guides.picPrefix,"_p4.png")]}},tab:"",homeList:["masterList","community","mylist","profile"],showFavoriteRoutes:["stock","findata"],showSearchList:["stock","masterList"],favorite:!1}},computed:l(l({},Object(n["c"])("stock",["myFavorites","searchText","favoritesSymbolList","needReloadFavoriteList"])),{},{showGuide:function(){return this.GuidedTour[this.$route.name]?this.GuidedTour[this.$route.name]:null},favoriteIcon:function(){return this.favorite?"img:statics/TabIcon/favListFocus@2x.png":"img:statics/toolbar/farStar@2x.png"},SearchText:{get:function(){return this.searchText},set:function(t){this.setSearchText(t)}},showFavorite:function(){return this.showFavoriteRoutes.indexOf(this.$route.name)>=0},isHome:function(){return this.homeList.indexOf(this.$route.name)>=0},isStockReport:function(){return["annualReport","findata"].indexOf(this.$route.name)>=0},showEdit:function(){return["profile","mylist","edit-profile"].indexOf(this.$route.name)>=0},showSearch:function(){return this.showSearchList.indexOf(this.$route.name)>=0}}),methods:l(l(l(l(l({nextSlide:function(){var t=this.GuidedTour[this.$route.name];if(t.index==t.pics.length-1){var e={};e[this.$route.name]=!1,this.UpdateGuide(e)}else t.index++}},Object(n["b"])("global",["UpdateGuide"])),Object(n["d"])("global",["setIsCustomListEditing","resetEdit"])),Object(n["d"])("stock",["setMyFavorites","setSearchText"])),Object(n["b"])("stock",["getMyFavorites","RefreshFavoritesSymbolList","MyFavoritesAdd","MyFavoritesDel"])),{},{checkFavorite:function(t){var e=this;t&&this.$api.stock.SymbolInMyList(t).then((function(t){console.log(t);var s=t.data;e.favorite=0==s.result&&"Y"==s.data})).catch((function(t){})).then((function(){}))},favoriteClicked:function(){var t=this;this.favorite=!this.favorite;var e=this.$route.params.stockId,s="已".concat(this.favorite?"新增":"刪除"," 股票代碼 - ").concat(e),a={symbol:e,success:function(e){0==e.data.result&&t.$q.notify({message:s})}};this.favorite?this.MyFavoritesAdd(a):this.MyFavoritesDel(a)},cancelEdit:function(){this.setIsCustomListEditing(!1),this.$store.state.global.cancelEditClicked()},changeEditing:function(){var t=this.$store.state.global.isCustomListEditing;this.setIsCustomListEditing(!t),console.log("changeEditing"),this.$store.state.global.editClicked(!t,t)},goback:function(){this.$router.go(-1)}})},u=d,h=s("2877"),f=s("4d5a"),g=s("068f"),b=s("e359"),p=s("65c6"),m=s("9c40"),v=s("6ac5"),k=s("27f9"),x=s("0016"),y=s("58a8"),$=s("09e3"),w=s("7ff0"),O=s("eebe"),_=s.n(O),q=Object(h["a"])(u,a,i,!1,null,null,null);e["default"]=q.exports;_()(q,"components",{QLayout:f["a"],QImg:g["a"],QHeader:b["a"],QToolbar:p["a"],QBtn:m["a"],QToolbarTitle:v["a"],QInput:k["a"],QIcon:x["a"],QBadge:y["a"],QPageContainer:$["a"],QFooter:w["a"]})}}]);