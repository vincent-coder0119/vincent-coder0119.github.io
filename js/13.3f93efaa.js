(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"6b35":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"bg-background-light"},[s("q-card",{staticClass:" q-py-sm ",staticStyle:{"margin-bottom":"6px"},attrs:{flat:"",square:""}},[s("q-item",{staticClass:"q-pb-none"},[s("q-item-section",{staticStyle:{"min-width":"38px","padding-right":"12px"},attrs:{avatar:""}},[s("q-avatar",{attrs:{size:"38px"}},[s("img",{attrs:{src:t.Reply.author_head}})])],1),s("q-item-section",{attrs:{"no-wrap":""}},[s("q-item-label",{staticClass:"text-color-1 text-bold text-subtitle1"},[t._v(t._s(t.Reply.author_name))]),s("q-item-label",{staticClass:"text-color-2",attrs:{caption:""}},[t._v(t._s(t.Reply.time_before))])],1)],1),s("q-card-section",{attrs:{horizontal:""}},[s("q-card-section",{staticClass:"text-color-2"},[t._v("\n        "+t._s(t.Reply.content)+"\n      ")])],1),s("q-item",{staticClass:"q-py-none",attrs:{dense:""}},[s("q-item-section",[s("q-item-label",[s("q-btn",{attrs:{dense:"",flat:"",align:"left",icon:t.Reply.my_like?"favorite":"favorite_border",label:t.Reply.likes_count,"text-color":t.Reply.my_like?"redheart":"text-color-2"},on:{click:function(e){return t.like(t.Reply,!t.Reply.my_like)}}})],1)],1),s("q-item-section",[s("q-item-label",[s("q-btn",{attrs:{dense:"",flat:"",align:"left",icon:"far fa-comment",label:t.Reply.reply_count,"text-color":"text-color-2"}})],1)],1)],1)],1),s("div",{staticClass:"row bg-feeds-messagebg q-col-gutter-sm items-center q-pb-sm q-pl-sm  q-pr-sm ",staticStyle:{margin:"10px 0"}},[s("div",{staticClass:"col-auto "},[s("q-avatar",{attrs:{size:"33px"}},[s("img",{attrs:{src:t.$store.state.account.head}})])],1),s("div",{staticClass:"col full-width"},[s("q-input",{staticClass:"bg-white",attrs:{dense:"",color:"blueGrey",clearable:"",autogrow:"",outlined:"",placeholder:"以"+t.$store.state.account.user.account+" 發表回應"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("div",{staticClass:"col-auto"},[s("q-btn",{attrs:{dense:"",round:"",flat:"",icon:"send",disable:!t.message,color:"blueGrey"},on:{click:t.postComment}})],1)]),s("q-infinite-scroll",{ref:"forum",attrs:{offset:250,"initial-index":"0"},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[s("div",{staticClass:"full-width text-center q-pa-md "},[s("q-spinner-ios",{attrs:{size:"30px",color:"bluegrey"}})],1)]},proxy:!0}])},t._l(t.topicReply,(function(e,a){return s("q-card",{key:a,staticClass:"  ",staticStyle:{"margin-bottom":"10px"},attrs:{flat:"",square:""}},[s("q-item",{staticStyle:{padding:"12px"}},[s("q-item-section",{staticStyle:{"min-width":"30px","padding-right":"12px"},attrs:{avatar:"",top:""}},[s("q-avatar",{attrs:{size:"30px"}},[s("img",{attrs:{src:e.author_head}})])],1),s("q-item-section",[s("div",{staticClass:"text-color-1 text-bold q-pb-xs text-subtitle1"},[t._v("\n            "+t._s(e.author_name)+"\n          ")]),s("div",{staticClass:"text-color-2  q-pb-sm",staticStyle:{"font-size":"15px"}},[t._v("\n            "+t._s(e.content)+"\n          ")]),s("div",{staticClass:"text-color-2 text-caption"},[t._v(t._s(e.time_before))])])],1)],1)})),1)],1)},o=[],i=s("872c"),n={name:"feeds",mixins:[i["a"]],beforeMount:function(){this.title="留言",this.forumId=this.$route.params.forumId,this.UID=this.$route.params.uid,console.log("beforeMount===>",this.UID,this.forumId)},mounted:function(){},data:function(){return{forumId:"1",UID:"",message:"",topicReply:[],Reply:{}}},methods:{init:function(){this.topicReply=[],this.$refs.forum.reset(),this.$refs.forum.poll()},onLoad:function(t,e){var s=this;console.log("onload===>",this.UID,this.forumId,t),this.$api.forum.ForumReplyList(this.UID,this.forumId,t-1).then((function(t){var a=t.data;0==a.data.reply.length?e(!0):e(),s.Reply=a.data,s.topicReply=s.$_.concat(s.topicReply,a.data.reply)})).catch((function(t){console.log(t)})).then((function(){console.log(s.topicReply)}))},like:function(t,e){this.$api.forum.ForumLike(t.uid,e,this.forumId).then((function(s){t.my_like=e,e?t.likes_count++:t.likes_count--}))},postComment:function(){var t=this;this.isLoading=!0,this.$api.forum.ForumReply(this.UID,this.message,this.forumId).then((function(e){console.log(e),t.init(),t.message=""})).catch((function(t){})).then((function(){t.isLoading=!1}))}}},r=n,l=s("2877"),c=s("9989"),u=s("f09f"),p=s("66e5"),m=s("4074"),d=s("cb32"),f=s("0170"),b=s("9c40"),h=s("a370"),y=s("27f9"),g=s("ef35"),q=s("d9b2"),x=s("eebe"),v=s.n(x),_=Object(l["a"])(r,a,o,!1,null,null,null);e["default"]=_.exports;v()(_,"components",{QPage:c["a"],QCard:u["a"],QItem:p["a"],QItemSection:m["a"],QAvatar:d["a"],QItemLabel:f["a"],QBtn:b["a"],QCardSection:h["a"],QInput:y["a"],QInfiniteScroll:g["a"],QSpinnerIos:q["a"]})},"872c":function(t,e,s){"use strict";s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d");var a=s("9523"),o=s.n(a),i=s("2f62");function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}e["a"]={mounted:function(){this.updateTitle(this.title)},data:function(){return{title:"",gearColor:"sunYellow"}},methods:r({},Object(i["b"])("system",["updateTitle"]))}}}]);