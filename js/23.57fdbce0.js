(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"3ae4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"bg-white",attrs:{view:"hHh lpR fFf"}},[a("q-page-container",[a("q-page",{staticClass:"q-px-lg column ",staticStyle:{"padding-top":"30px"}},[a("div",{staticClass:"col-auto"},[t.freezed?t._e():a("q-btn",{attrs:{flat:"",dese:"",icon:"keyboard_backspace",color:"main",padding:"0"},on:{click:t.goback}})],1),a("div",{staticClass:"col "},[a("q-tab-panels",{ref:"tabs",attrs:{animated:""},on:{transition:t.transition},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[a("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"head"}},[a("div",{staticClass:"gugu-title1 q-py-lg "},[t._v("\n              歡迎註冊股股\n            ")]),a("div",[a("q-btn",{staticClass:"social-register-btn full-width q-mb-md text-blueGrey",attrs:{"no-caps":"",outline:""},on:{click:function(e){t.panel="step1"}}},[a("div",{staticClass:"text-main"},[t._v("使用電子郵件繼續")])]),a("q-btn",{staticClass:"social-register-btn full-width q-mb-md  text-blueGrey ",attrs:{"no-caps":"",outline:""},on:{click:t.fbSignIn}},[a("q-icon",{staticClass:"absolute",staticStyle:{left:"16px"},attrs:{name:"fab fa-facebook-f",color:"fb",size:"xs"}}),a("div",{staticClass:"text-main"},[t._v("透過 Facebook 繼續")])],1),a("q-btn",{staticClass:"social-register-btn full-width q-mb-md   text-blueGrey ",attrs:{"no-caps":"",outline:""},on:{click:t.googleSignIn}},[a("q-icon",{staticClass:"absolute",staticStyle:{left:"16px"},attrs:{name:"img:statics/google@2x.png",size:"xs"}}),a("div",{staticClass:"text-main"},[t._v("透過 Google 繼續")])],1)],1),a("q-item-label",{staticClass:"text-caption text-blueGrey text-bold  q-pb-xl text-center"},[t._v("\n              繼續即表示您同意股股的\n              "),a("q-btn",{staticClass:"text-bold",attrs:{dense:"",flat:"",size:"sm","text-color":"main"},on:{click:function(e){return t.openTermsDialog("使用者條款","termsofuse")}}},[a("u",[t._v("使用者條款")])]),t._v("，同時確認已閱讀股股的\n\n              "),a("q-btn",{staticClass:"text-bold",attrs:{size:"sm",flat:"","text-color":"main",dense:""},on:{click:function(e){return t.openTermsDialog("隱私權政策","PrivacyPolicies")}}},[a("u",[t._v("隱私權政策")])])],1),a("div",{staticClass:"row items-center justify-center text-blueGrey text-bold q-py-md fixed-bottom "},[t._v("\n              已經有帳號?\n              "),a("q-btn",{staticClass:"text-bold",attrs:{flat:"",color:"main",dense:"",label:"登入",to:"login"}})],1)],1),a("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"step1"}},[a("div",{staticClass:"gugu-title1 q-py-lg "},[t._v("\n              第一步\n            ")]),a("div",{staticClass:" text-subtitle1 q-pb-lg"},[a("div",{staticClass:"text-main text-bold q-pb-sm"},[t._v("\n                建立完帳號即可馬上享有\n              ")]),t._l(t.textmessages,(function(e){return a("div",{key:e.index,staticClass:"row no-wrap items-center",staticStyle:{"line-height":"27px"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-check",color:"mygreen"}}),a("div",{staticClass:"text-main text-bold"},[t._v("\n                  "+t._s(e.content)+"\n                ")])],1)}))],2),a("div",[a("div",{staticClass:"font-13 text-blueGrey"},[t._v("\n                輸入電子郵件\n              ")]),a("q-input",{attrs:{type:"email",dense:"",error:t.$v.userEmail.$error,"error-message":t.fieldCheck(t.$v.userEmail),"label-color":"blueGrey",color:"blueGrey",placeholder:"example@email.com"},on:{blur:t.$v.userEmail.$touch},scopedSlots:t._u([t.userEmail&&!t.$v.userEmail.$invalid?{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"fas fa-check-circle",color:"green2"}})]},proxy:!0}:null],null,!0),model:{value:t.$v.userEmail.$model,callback:function(e){t.$set(t.$v.userEmail,"$model",e)},expression:"$v.userEmail.$model"}})],1)]),a("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"step2"}},[a("div",{staticClass:"gugu-title1 q-py-lg q-pb-xl"},[t._v("\n              第二步\n            ")]),a("div",{staticClass:"q-pb-sm"},[a("div",{staticClass:"font-13 text-blueGrey"},[t._v("您的電子郵件")]),a("q-input",{ref:"em2",attrs:{type:"email",dense:"",readonly:"","label-color":"blueGrey",color:"blueGrey"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"fas fa-check-circle",size:"20px",color:"green2"}})]},proxy:!0}]),model:{value:t.userEmail,callback:function(e){t.userEmail=e},expression:"userEmail"}})],1),a("div",{staticClass:"q-pb-sm"},[a("div",{staticClass:"text-blueGrey font-13"},[t._v("設立密碼")]),a("q-input",{attrs:{type:t.showPassword1?"text":"password",dense:"",clearable:"",disable:t.isLoading,"label-color":"blueGrey",color:"blueGrey",placeholder:"請輸入密碼",error:t.$v.password1.$error,"error-message":t.fieldCheck(t.$v.password1)},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.showPassword1?"visibility":"visibility_off"},on:{click:function(e){t.showPassword1=!t.showPassword1}}})]},proxy:!0}]),model:{value:t.$v.password1.$model,callback:function(e){t.$set(t.$v.password1,"$model",e)},expression:"$v.password1.$model"}})],1),a("div",{staticClass:"q-pb-sm"},[a("div",{staticClass:"text-blueGrey font-13"},[t._v("確認您的密碼")]),a("q-input",{attrs:{dense:"",clearable:"",disable:t.isLoading,type:t.showPassword2?"text":"password","label-color":"blueGrey",color:"blueGrey",placeholder:"請再次輸入您的密碼",error:t.$v.password2.$error,"error-message":t.fieldCheck(t.$v.password2)},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.showPassword2?"visibility":"visibility_off"},on:{click:function(e){t.showPassword2=!t.showPassword2}}})]},proxy:!0}]),model:{value:t.$v.password2.$model,callback:function(e){t.$set(t.$v.password2,"$model",e)},expression:"$v.password2.$model"}})],1),t.apiRegisterResult?t._e():a("div",{staticClass:"q-pa-md text-negative text-bold"},[t._v("\n              "+t._s(t.registerError)+"\n            ")])]),a("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"result"}},[a("div",{staticClass:"gugu-title1 q-py-lg ",staticStyle:{"padding-bottom":"80px"}},[t._v("\n              恭喜完成！\n            ")]),a("div",{staticClass:"col content  text-subtitle1"},[a("div",{staticClass:"text-main text-bold ",staticStyle:{"padding-bottom":"20px",width:"84%","line-height":"1.4"}},[t._v("\n                您還有一個黃金會員限時試用優惠尚未領取哦，服務包含：\n              ")]),a("div",{staticClass:"column items-center",staticStyle:{"padding-bottom":"37px"}},t._l(t.memberRights,(function(e){return a("div",{key:e.index,staticClass:"row no-wrap items-center",staticStyle:{"line-height":"27px",width:"80%"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-check",color:"mygreen"}}),a("div",{staticClass:"text-main text-bold"},[t._v(t._s(e.content))])],1)})),0),a("q-btn",{staticClass:" full-width text-bold q-mb-md gugu-btn",attrs:{outline:"",color:"main",label:"開始體驗黃金會員資格 14 日"},on:{click:function(e){t.panel="result"}}}),a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"text-main text-bold text-center"},[t._v("先去逛逛")])])],1)])],1)],1),a("footer",{staticClass:"q-py-md "},["step1"==t.panel?a("q-btn",{staticClass:"gugu-btn full-width bg-white text-bold",attrs:{id:t.$store.state.global.gaHead+"register_1_cta",outline:"",color:"main",disable:t.isLoading||!t.$v.userEmail.checkEMailResult},on:{click:t.nextPage2}},[t._v("繼續")]):t._e(),"step2"==t.panel?a("q-btn",{staticClass:"gugu-btn full-width text-bold bg-white ",attrs:{id:t.$store.state.global.gaHead+"register_2_cta",outline:"",disable:t.isLoading||t.$v.$invalid,color:"main",label:"完成註冊"},on:{click:t.registUser}}):t._e()],1)])],1),a("q-dialog",{model:{value:t.TermsDialog.show,callback:function(e){t.$set(t.TermsDialog,"show",e)},expression:"TermsDialog.show"}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",[a("div",{staticClass:" text-main text-bold",staticStyle:{"font-size":"18px"}},[t._v("\n          "+t._s(t.TermsDialog.title)+"\n        ")])]),a("q-separator"),a("q-card-section",{staticClass:"scroll q-pa-sm",staticStyle:{"max-height":"60vh"}},[a(t.TermsDialog.name,{tag:"component"})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{attrs:{unelevated:"",color:"paleGrey","text-color":"main",label:"關閉"},on:{click:function(e){t.TermsDialog.show=!1}}})],1)],1)],1)],1)},i=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("456d"),a("7f7f"),a("9523")),o=a.n(n),r=a("a34a"),l=a.n(r),c=(a("551c"),a("06db"),a("097d"),a("96cf"),a("c973")),u=a.n(c),d=a("b5ae"),p=a("0287"),m=a("2f62"),g=a("ef25"),f=a("0df5");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h="x",x=!1,y=p["a"]({}),w=p["b"]({checkEMailResult:function(t){t.$params;return"".concat(h)}}),q={components:{termsofuse:g["a"],PrivacyPolicies:f["a"]},created:function(){var t=this;setTimeout((function(){FB.init({appId:"1261120347553786",cookie:!0,xfbml:!1,version:"v8.0"}),t.isLoading=!1}),1e3)},meta:{script:{ldJson:{type:"text/javascript",src:"https://apis.google.com/js/platform.js",async:!0,defer:!0},"facebook-jssdk":{crossorigin:"anonymous",type:"text/javascript",src:"https://connect.facebook.net/zh_TW/sdk.js",async:!0,defer:!0}}},mounted:function(){0},data:function(){return{freezed:!1,isLoading:!0,panel:"head",userEmail:"",showPassword1:!1,showPassword2:!1,password1:"",password2:"",apiRegisterResult:!1,registerError:"",TermsDialog:{show:!1,title:"",content:[],onlycontent:"",name:""},textmessages:[{indx:"1",content:"查閱數萬個股分析報告"},{indx:"2",content:"大師持股清單揭露"}],memberRights:[{indx:"1",content:"查閱數萬個股合理價格"},{indx:"2",content:"完整品質分數關鍵指標報告"},{indx:"3",content:"無限個股分析查閱量        "}]}},validations:{userEmail:{email:d["email"],checkEMailResult:function(){var t=u()(l.a.mark((function t(e,a){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!0);case 2:if(a.$v.userEmail.email){t.next=4;break}return t.abrupt("return",!1);case 4:return a.isLoading=!0,t.next=7,a.$api.account.checkEmail(e).then((function(t){var e=t.data;h=e.message,x=0===e.result})).catch((function(t){h=t.message,x=!1})).finally((function(){a.isLoading=!1}));case 7:return t.abrupt("return",x);case 8:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},password1:{namedRequired:y.require("密碼"),namedMinLength:y.minLength(8,"密碼")},password2:{namedSameName:y.sameName("password1","兩次密碼")}},methods:v(v({},Object(m["b"])("account",["oauthLogin"])),{},{appleSignIn:function(){},FBStatusChangeCallback:function(t){var e=this;this.handlingApi=!0,"connected"===t.status?FB.api("/me?fields=id,name,email,picture",(function(t){console.log(t);var a={image:t.picture.data.url,id:t.id,name:t.name,email:t.email,source:"FACEBOOK",locale:e.language,remember:e.remrmberMe,success:function(t){t.data},error:function(t){console.log(t)},finally:function(){e.isLoading=!1}};e.oauthLogin(a)})):this.handlingApi=!1},fbSignIn:function(){var t=this;FB.login((function(e){t.FBStatusChangeCallback(e)}),{scope:"public_profile,email"})},googleSignIn:function(){var t=this;this.handlingApi=!0,gapi.load("auth2",(function(){gapi.auth2.init(t.$store.state.system.googleConfig).then((function(e){var a=gapi.auth2.getAuthInstance();a.isSignedIn.get();a.signIn().then((function(e){var a=e,s=a.getBasicProfile(),i={image:s.getImageUrl(),id:s.getId(),name:s.getName(),email:s.getEmail(),source:"GOOGLE",locale:t.language,remember:t.remrmberMe,success:function(t){t.data},error:function(t){console.log(t)},finally:function(){t.handlingApi=!1}};t.oauthLogin(i)})).catch((function(t){console.log(t)}))})).catch((function(e){console.log(e),"idpiframe_initialization_failed"==e.error?t.$q.notify({type:"warning",message:"請關閉「封鎖第三方Cookie」設定，以利於使用 Google 登入"}):t.$q.notify({type:"warning",message:e.error})})).then((function(){t.handlingApi=!1}))}))},openTermsDialog:function(t,e){this.TermsDialog.show=!0,this.TermsDialog.title=t,this.TermsDialog.name=e},fieldCheck:p["c"](w),formErrorMsg:function(t){return p["d"](t,w)},transition:function(t,e){this.freezed=2==this.$refs.tabs.panelIndex},nextPage2:function(){this.$v.userEmail.$invalid||x&&(this.panel="step2")},goback:function(){0==this.$refs.tabs.panelIndex?this.$router.go(-1):this.$refs.tabs.previous()},registUser:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.isLoading=!0,this.$store.dispatch("account/register",{account:this.userEmail,email:this.userEmail,password:this.password1,success:function(e){console.log(e);var a=e.data;t.apiRegisterResult=0===a.result,t.apiRegisterResult?t.panel="result":t.registerError=a.message},error:function(e){t.apiRegisterResult=!1,t.registerError=e.message},finally:function(){t.isLoading=!1}}))},nextPage3:function(){this.$v.$invalid||(this.panel="result")}})},C=q,$=a("2877"),k=a("4d5a"),_=a("09e3"),E=a("9989"),P=a("9c40"),S=a("adad"),O=a("823b"),G=a("0016"),j=a("0170"),L=a("27f9"),D=a("24e8"),R=a("f09f"),T=a("a370"),I=a("eb85"),Q=a("4b7e"),z=a("eebe"),A=a.n(z),B=Object($["a"])(C,s,i,!1,null,null,null);e["default"]=B.exports;A()(B,"components",{QLayout:k["a"],QPageContainer:_["a"],QPage:E["a"],QBtn:P["a"],QTabPanels:S["a"],QTabPanel:O["a"],QIcon:G["a"],QItemLabel:j["a"],QInput:L["a"],QDialog:D["a"],QCard:R["a"],QCardSection:T["a"],QSeparator:I["a"],QCardActions:Q["a"]})}}]);