(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"3ae4":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-layout",{staticClass:"bg-white",attrs:{view:"hHh lpR fFf"}},[e("q-page-container",{staticClass:"safe-top safe-bottom-m"},[e("div",{staticClass:"q-px-lg column full-height ",staticStyle:{"padding-top":"30px"}},[e("div",[t.freezed?t._e():e("q-btn",{attrs:{flat:"",dese:"",icon:"keyboard_backspace",color:"main",padding:"0"},on:{click:t.goback}})],1),e("q-tab-panels",{ref:"tabs",staticClass:"col full-height",attrs:{animated:""},on:{transition:t.transition},model:{value:t.panel,callback:function(s){t.panel=s},expression:"panel"}},[e("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"step1"}},[e("div",{staticClass:"gugu-title1 q-py-lg "},[t._v("\n            第一步\n          ")]),e("div",{staticClass:" text-subtitle1 q-pb-lg"},[e("div",{staticClass:"text-main text-bold q-pb-sm"},[t._v("\n              建立完密碼即可馬上享有\n            ")]),t._l(t.textmessages,(function(s){return e("div",{key:s.index,staticClass:"row no-wrap items-center",staticStyle:{"line-height":"27px"}},[e("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-check",color:"mygreen"}}),e("div",{staticClass:"text-main text-bold"},[t._v("\n                "+t._s(s.content)+"\n              ")])],1)}))],2),e("div",[e("div",{staticClass:"font-13 text-second"},[t._v("\n              輸入電子郵件\n            ")]),e("q-input",{ref:"em1",attrs:{type:"email",dense:"",disable:t.isLoading,"label-color":"second",color:"second","lazy-rules":"",placeholder:"example@email.com","error-message":t.emailErrorMessage,rules:[t.checkEmail]},on:{focus:function(s){return s.stopPropagation(),t.emailFocused(s)}},model:{value:t.userEmail,callback:function(s){t.userEmail=s},expression:"userEmail"}})],1),e("div",{staticClass:"q-px-lg  fixed-bottom  q-py-md  register-continue "},[e("q-btn",{staticClass:"gugu-btn full-width  bg-white",attrs:{outline:"",color:"main",disable:t.isLoading||!t.emailPass},on:{click:function(s){t.panel="step2"}}},[t._v("繼續")])],1)]),e("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"step2"}},[e("div",{staticClass:"gugu-title1 q-py-lg q-pb-xl"},[t._v("\n            第二步\n          ")]),e("div",{staticClass:"q-pb-sm"},[e("div",{staticClass:"font-13 text-second"},[t._v("您的電子郵件")]),e("q-input",{ref:"em2",attrs:{type:"email",dense:"",readonly:"","label-color":"second",color:"second"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"fas fa-check-circle",size:"20px",color:"green2"}})]},proxy:!0}]),model:{value:t.userEmail,callback:function(s){t.userEmail=s},expression:"userEmail"}})],1),e("div",{staticClass:"q-pb-sm"},[e("div",{staticClass:"text-second font-13"},[t._v("設立密碼")]),e("q-input",{ref:"fldPasswordChange",attrs:{type:t.isPwd?"password":"",dense:"",clearable:"",disable:t.isLoading,"label-color":"second",color:"second",rules:t.Required,placeholder:"請輸入密碼"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.userPassword,callback:function(s){t.userPassword=s},expression:"userPassword"}})],1),e("div",{staticClass:"q-pb-sm"},[e("div",{staticClass:"text-second font-13"},[t._v("確認您的密碼")]),e("q-input",{ref:"fldPasswordChangeConfirm",attrs:{dense:"",clearable:"",disable:t.isLoading,type:t.isPwd?"password":"","label-color":"second",color:"second",rules:t.ConfirmPWD,placeholder:"請再次輸入您的密碼"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.comfirmPassword,callback:function(s){t.comfirmPassword=s},expression:"comfirmPassword"}})],1),e("div",{staticClass:"q-px-lg fixed-bottom  q-py-md  register-continue"},[e("q-btn",{staticClass:"gugu-btn full-width text-bold bg-white ",attrs:{outline:"",disable:t.isLoading||t.InvalidPassword,color:"main",label:"完成註冊"},on:{click:t.registUser}})],1)]),e("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"result"}},[e("div",{staticClass:"gugu-title1 q-py-lg ",staticStyle:{"padding-bottom":"80px"}},[t._v("\n            恭喜完成！\n          ")]),e("div",{staticClass:"col content  text-subtitle1"},[e("div",{staticClass:"text-main text-bold ",staticStyle:{"padding-bottom":"20px",width:"84%","line-height":"1.4"}},[t._v("\n              您還有一個黃金會員限時試用優惠尚未領取哦，服務包含：\n            ")]),e("div",{staticClass:"column items-center",staticStyle:{"padding-bottom":"37px"}},t._l(t.memberRights,(function(s){return e("div",{key:s.index,staticClass:"row no-wrap items-center",staticStyle:{"line-height":"27px",width:"80%"}},[e("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-check",color:"mygreen"}}),e("div",{staticClass:"text-main text-bold"},[t._v(t._s(s.content))])],1)})),0),e("q-btn",{staticClass:" full-width text-bold q-mb-md gugu-btn",attrs:{outline:"",color:"main",label:"開始體驗黃金會員資格 14 日"},on:{click:function(s){t.panel="result"}}}),e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"text-main text-bold text-center"},[t._v("先去逛逛")])])],1)])],1)],1)])],1)},i=[],n=(e("551c"),e("06db"),{mounted:function(){window.app=this},computed:{ConfirmPWD:function(){var t=this;return[function(t){return!!t||"密碼為必填"},function(s){return s==t.$refs.fldPasswordChange.value||"兩次密碼輸入不同"}]},Required:function(){return[function(t){return!!t||"密碼為必填"},function(t){return t.length>=6||"密碼最小長度為6"}]},InvalidPassword:function(){return!Boolean(this.userPassword)||this.userPassword!=this.comfirmPassword}},data:function(){return{freezed:!1,isPwd:!0,isLoading:!1,emailPass:!1,emailErrorMessage:"",panel:"step1",userEmail:"",userPassword:"",comfirmPassword:"",textmessages:[{indx:"1",content:"查閱數萬個股分析報告"},{indx:"2",content:"大師持股清單揭露"},{indx:"3",content:"限時加送！黃金會員試用 14 日"}],memberRights:[{indx:"1",content:"查閱數萬個股合理價格"},{indx:"2",content:"完整品質分數關鍵指標報告"},{indx:"3",content:"無限個股分析查閱量        "}]}},methods:{emailFocused:function(){this.$refs.em1.resetValidation(),this.$refs.em1.select()},transition:function(t,s){this.freezed=2==this.$refs.tabs.panelIndex},checkEmail:function(t){var s=this;return new Promise((function(t,e){return s.isLoading=!0,s.$api.account.checkEmail(s.userEmail).then((function(a){console.log(a);var i=a.data;s.emailPass=0==i.result,s.emailErrorMessage=i.message,s.emailPass?t(!0):e(i.message)})).catch((function(t){})).then((function(){s.isLoading=!1}))}))},goback:function(){0==this.$refs.tabs.panelIndex?this.$router.go(-1):this.$refs.tabs.previous()},registUser:function(){var t=this;this.isLoading=!0,this.$store.dispatch("account/register",{account:this.userEmail,email:this.userEmail,password:this.userPassword,success:function(s){var e=s.data;0==s.data.result?t.panel="result":t.$q.notify({message:e.message,position:"top",color:"negative"})},error:function(t){},finally:function(){t.isLoading=!1}})}}}),o=n,l=e("2877"),r=e("4d5a"),c=e("09e3"),d=e("9c40"),u=e("adad"),m=e("823b"),p=e("0016"),f=e("27f9"),b=e("eebe"),g=e.n(b),h=Object(l["a"])(o,a,i,!1,null,null,null);s["default"]=h.exports;g()(h,"components",{QLayout:r["a"],QPageContainer:c["a"],QBtn:d["a"],QTabPanels:u["a"],QTabPanel:m["a"],QIcon:p["a"],QInput:f["a"]})}}]);