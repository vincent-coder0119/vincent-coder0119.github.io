(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"3ae4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{staticClass:"bg-white",attrs:{view:"hHh lpR fFf"}},[s("q-page-container",[s("q-page",{staticClass:"q-px-lg column ",staticStyle:{"padding-top":"30px"}},[s("div",{staticClass:"col-auto"},[e.freezed?e._e():s("q-btn",{attrs:{flat:"",dese:"",icon:"keyboard_backspace",color:"main",padding:"0"},on:{click:e.goback}})],1),s("div",{staticClass:"col "},[s("q-tab-panels",{ref:"tabs",attrs:{animated:""},on:{transition:e.transition},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[s("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"step1"}},[s("div",{staticClass:"gugu-title1 q-py-lg "},[e._v("\n              第一步\n            ")]),s("div",{staticClass:" text-subtitle1 q-pb-lg"},[s("div",{staticClass:"text-main text-bold q-pb-sm"},[e._v("\n                建立完帳號即可馬上享有\n              ")]),e._l(e.textmessages,(function(t){return s("div",{key:t.index,staticClass:"row no-wrap items-center",staticStyle:{"line-height":"27px"}},[s("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-check",color:"mygreen"}}),s("div",{staticClass:"text-main text-bold"},[e._v("\n                  "+e._s(t.content)+"\n                ")])],1)}))],2),s("div",[s("div",{staticClass:"font-13 text-blueGrey"},[e._v("\n                輸入電子郵件\n              ")]),s("q-input",{attrs:{type:"email",dense:"",error:e.$v.userEmail.$error,"error-message":e.fieldCheck(e.$v.userEmail),"label-color":"blueGrey",color:"blueGrey",placeholder:"example@email.com"},on:{blur:e.$v.userEmail.$touch},scopedSlots:e._u([e.userEmail&&!e.$v.userEmail.$invalid?{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-check-circle",color:"green2"}})]},proxy:!0}:null],null,!0),model:{value:e.$v.userEmail.$model,callback:function(t){e.$set(e.$v.userEmail,"$model",t)},expression:"$v.userEmail.$model"}})],1)]),s("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"step2"}},[s("div",{staticClass:"gugu-title1 q-py-lg q-pb-xl"},[e._v("\n              第二步\n            ")]),s("div",{staticClass:"q-pb-sm"},[s("div",{staticClass:"font-13 text-blueGrey"},[e._v("您的電子郵件")]),s("q-input",{ref:"em2",attrs:{type:"email",dense:"",readonly:"","label-color":"blueGrey",color:"blueGrey"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-check-circle",size:"20px",color:"green2"}})]},proxy:!0}]),model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}})],1),s("div",{staticClass:"q-pb-sm"},[s("div",{staticClass:"text-blueGrey font-13"},[e._v("設立密碼")]),s("q-input",{attrs:{type:e.showPassword1?"text":"password",dense:"",clearable:"",disable:e.isLoading,"label-color":"blueGrey",color:"blueGrey",placeholder:"請輸入密碼",error:e.$v.password1.$error,"error-message":e.fieldCheck(e.$v.password1)},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showPassword1?"visibility":"visibility_off"},on:{click:function(t){e.showPassword1=!e.showPassword1}}})]},proxy:!0}]),model:{value:e.$v.password1.$model,callback:function(t){e.$set(e.$v.password1,"$model",t)},expression:"$v.password1.$model"}})],1),s("div",{staticClass:"q-pb-sm"},[s("div",{staticClass:"text-blueGrey font-13"},[e._v("確認您的密碼")]),s("q-input",{attrs:{dense:"",clearable:"",disable:e.isLoading,type:e.showPassword2?"text":"password","label-color":"blueGrey",color:"blueGrey",placeholder:"請再次輸入您的密碼",error:e.$v.password2.$error,"error-message":e.fieldCheck(e.$v.password2)},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showPassword2?"visibility":"visibility_off"},on:{click:function(t){e.showPassword2=!e.showPassword2}}})]},proxy:!0}]),model:{value:e.$v.password2.$model,callback:function(t){e.$set(e.$v.password2,"$model",t)},expression:"$v.password2.$model"}})],1),e.apiRegisterResult?e._e():s("div",{staticClass:"q-pa-md text-negative text-bold"},[e._v("\n              "+e._s(e.registerError)+"\n            ")])]),s("q-tab-panel",{staticClass:" q-pa-none",attrs:{name:"result"}},[s("div",{staticClass:"gugu-title1 q-py-lg ",staticStyle:{"padding-bottom":"80px"}},[e._v("\n              恭喜完成！\n            ")]),s("div",{staticClass:"col content  text-subtitle1"},[s("div",{staticClass:"text-main text-bold ",staticStyle:{"padding-bottom":"20px",width:"84%","line-height":"1.4"}},[e._v("\n                您還有一個黃金會員限時試用優惠尚未領取哦，服務包含：\n              ")]),s("div",{staticClass:"column items-center",staticStyle:{"padding-bottom":"37px"}},e._l(e.memberRights,(function(t){return s("div",{key:t.index,staticClass:"row no-wrap items-center",staticStyle:{"line-height":"27px",width:"80%"}},[s("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-check",color:"mygreen"}}),s("div",{staticClass:"text-main text-bold"},[e._v(e._s(t.content))])],1)})),0),s("q-btn",{staticClass:" full-width text-bold q-mb-md gugu-btn",attrs:{outline:"",color:"main",label:"開始體驗黃金會員資格 14 日"},on:{click:function(t){e.panel="result"}}}),s("router-link",{attrs:{to:"/"}},[s("div",{staticClass:"text-main text-bold text-center"},[e._v("先去逛逛")])])],1)])],1)],1),s("footer",{staticClass:"q-py-md "},["step1"==e.panel?s("q-btn",{staticClass:"gugu-btn full-width bg-white text-bold",attrs:{outline:"",color:"main",disable:e.isLoading||!e.$v.userEmail.checkEMailResult},on:{click:e.nextPage2}},[e._v("繼續")]):e._e(),"step2"==e.panel?s("q-btn",{staticClass:"gugu-btn full-width text-bold bg-white ",attrs:{outline:"",disable:e.isLoading||e.$v.$invalid,color:"main",label:"完成註冊"},on:{click:e.registUser}}):e._e()],1)])],1)],1)},i=[],n=s("a34a"),r=s.n(n),l=(s("551c"),s("06db"),s("097d"),s("96cf"),s("c973")),o=s.n(l),c=s("b5ae"),d=s("0287"),u="x",p=!1,m=d["a"]({}),b=d["b"]({checkEMailResult:function(e){e.$params;return"".concat(u)}}),v={mounted:function(){0},data:function(){return{freezed:!1,isLoading:!1,panel:"step1",userEmail:"",showPassword1:!1,showPassword2:!1,password1:"",password2:"",apiRegisterResult:!1,registerError:"",textmessages:[{indx:"1",content:"查閱數萬個股分析報告"},{indx:"2",content:"大師持股清單揭露"}],memberRights:[{indx:"1",content:"查閱數萬個股合理價格"},{indx:"2",content:"完整品質分數關鍵指標報告"},{indx:"3",content:"無限個股分析查閱量        "}]}},validations:{userEmail:{email:c["email"],checkEMailResult:function(){var e=o()(r.a.mark((function e(t,s){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:if(s.$v.userEmail.email){e.next=4;break}return e.abrupt("return",!1);case 4:return s.isLoading=!0,e.next=7,s.$api.account.checkEmail(t).then((function(e){var t=e.data;u=t.message,p=0===t.result})).catch((function(e){u=e.message,p=!1})).finally((function(){s.isLoading=!1}));case 7:return e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}()},password1:{namedRequired:m.require("密碼"),namedMinLength:m.minLength(8,"密碼")},password2:{namedSameName:m.sameName("password1","兩次密碼")}},methods:{fieldCheck:d["c"](b),formErrorMsg:function(e){return d["d"](e,b)},transition:function(e,t){this.freezed=2==this.$refs.tabs.panelIndex},nextPage2:function(){this.$v.userEmail.$invalid||p&&(this.panel="step2")},goback:function(){0==this.$refs.tabs.panelIndex?this.$router.go(-1):this.$refs.tabs.previous()},registUser:function(){var e=this;this.$v.$touch(),this.$v.$invalid||(this.isLoading=!0,this.$store.dispatch("account/register",{account:this.userEmail,email:this.userEmail,password:this.password1,success:function(t){console.log(t);var s=t.data;e.apiRegisterResult=0===s.result,e.apiRegisterResult?e.panel="result":e.registerError=s.message},error:function(t){e.apiRegisterResult=!1,e.registerError=t.message},finally:function(){e.isLoading=!1}}))},nextPage3:function(){this.$v.$invalid||(this.panel="result")}}},f=v,g=s("2877"),h=s("4d5a"),x=s("09e3"),w=s("9989"),$=s("9c40"),y=s("adad"),q=s("823b"),C=s("0016"),k=s("27f9"),_=s("eebe"),E=s.n(_),P=Object(g["a"])(f,a,i,!1,null,null,null);t["default"]=P.exports;E()(P,"components",{QLayout:h["a"],QPageContainer:x["a"],QPage:w["a"],QBtn:$["a"],QTabPanels:y["a"],QTabPanel:q["a"],QIcon:C["a"],QInput:k["a"]})}}]);